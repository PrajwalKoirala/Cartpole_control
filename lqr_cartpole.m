g = 9.8; M_c = 1; m_p = 0.1; l = 0.5;
A = [0 1 0 0; 0 0 -3*m_p*g/(m_p+4*M_c) 0; 0 0 0 1; 0 0 3*g*(m_p+M_c)/((m_p+4*M_c)*l) 0]
B = [0 4/(m_p+4*M_c) 0 -3/(m_p+4*M_c)]'


Q = [1  0   0   0;
     0  10  0   0;
     0  0   1   0;
     0  0   0   100];
R = 0.1;

k = lqr(A, B, Q, R)